# InnovateMart Sales Forecasting

## شرح پروژه  
هدف این پروژه، ایجاد یک مدل پیش‌بینی فروش روزانه برای فروشگاه‌های زنجیره‌ای InnovateMart است.  
این پروژه شامل شبیه‌سازی داده‌های واقع‌گرایانه، آموزش مدل یادگیری عمیق Temporal Fusion Transformer و ارائه نتایج از طریق اپلیکیشن تعاملی Streamlit می‌باشد.

## ویژگی‌های داده‌های شبیه‌سازی شده  
- ۴ فروشگاه با اندازه‌های مختلف (کوچک، متوسط، بزرگ)  
- توزیع جمعیت شهری متنوع  
- روند رشد سالانه مثبت و ملایم برای هر فروشگاه  
- الگوهای فصلی هفتگی و ماهانه  
- پروموشن‌های برنامه‌ریزی‌شده (تعطیلات آخر هفته، روزهای مشخص نوامبر، روزهای تصادفی)  
- شوک خارجی روی یکی از فروشگاه‌ها که باعث کاهش دائمی فروش شده است

## آموزش مدل  
- استفاده از `TimeSeriesDataSet` برای آماده‌سازی داده‌ها  
- پیاده‌سازی و آموزش مدل Temporal Fusion Transformer با `pytorch-forecasting`  
- پارامترهای مدل برای اجرای سریع روی CPU یا محیط‌های رایج مثل Google Colab مناسب تنظیم شده است  
- ارزیابی مدل روی ۳۰ روز آخر داده‌ها به عنوان مجموعه اعتبارسنجی

## اپلیکیشن Streamlit  
- منوی کشویی برای انتخاب فروشگاه  
- نمایش نمودار فروش تاریخی فروشگاه انتخاب‌شده  
- نمایش نمودار مقایسه فروش واقعی و پیش‌بینی مدل  
- نمایش نمودار اهمیت متغیرهای ورودی مدل برای تفسیرپذیری

## پیش‌نیاز‌ها  
- Python 3.10.x (توصیه شده برای جلوگیری از تداخل کتابخانه‌ها و سازگاری کامل) 
 
## دستورالعمل نصب  
برای نصب وابستگی‌ها، دستور زیر را اجرا کنید:

'''
pip install -r requirements.txt
'''

## نحوه اجرای پروژه

### مرحله 1: آموزش مدل
برای اجرای آموزش مدل و انجام مراحل تولید داده‌ها، آموزش و ارزیابی، باید اسکریپت `model_training.py` که داخل پوشه `src` قرار دارد را به صورت ماژولی اجرا کنید:

'''
python -m src.model_training
'''

پس از اجرای این مرحله، داده‌ها و وزن‌های مدل در فایل‌های زیر ذخیره می‌شوند:  
- `data/sales_data.csv`  
- `models/tft_weights.pth`  
- `models/training_dataset.pth`
- `predictions/predictions.csv`


### مرحله 2: اجرای اپلیکیشن Streamlit  
برای مشاهده نتایج و پیش‌بینی‌ها به صورت تعاملی، دستور زیر را اجرا کنید:

'''
streamlit run app.py
'''
---

### توضیح کوتاه درباره فایل‌ها:

- `src/data_simulation.py`: تابع شبیه‌سازی داده‌ها  
- `src/data_preparation.py`: آماده‌سازی دیتاست برای مدل  
- `src/model_training.py`: آموزش مدل و تولید فایل‌های مدل و داده  
- `app.py`: اپلیکیشن نمایش داده‌ها و پیش‌بینی‌ها



  
